{ "schema_version": "state_object_v0_3", "generated_at_utc": "2026-01-26T00:00:00Z", "run_name": "product-planning-pro-run-2", "repo": "Standivarius/AiGov-monorepo", "non_negotiables_locked": { "ep_definition": "EP (Evaluated Product) = customer-paid capabilities/features.", "pe_definition": "PE (Product Evaluation) = acceptance criteria + evals proving EP claims + MUST-HAVE enterprise defensibility controls.", "mapping_rule": "EP -> acceptance criteria -> PE evals.", "eval_first_rule": "No requirement is ready until it has >=1 PE eval with explicit pass rule + evidence artifact definition.", "tier_a_rule": "100% Tier A controls must map to PE evals with evidence.", "runtime_budgets": "PR gate evalset must be short; broader suites go to nightly/release/audit packs.", "golden_set_firewall": "Golden sets are PE defensibility assets; must be firewalled from runtime retrieval/AKG." }, "process_rules_locked": { "always_separate_todos_vs_suggestions": true, "effort_label_required": true, "prompts_must_be_single_outcome": true, "no_trailing_alternatives_after_todos": true, "explicit_merge_instructions_per_pr": true, "verification_commands_must_be_exact": true, "ban_repo_wide_pytest_in_verification": true, "ban_pytest_fallback_or_operator": true, "codex_long_horizon_friendly": { "small_pr_slices": true, "explicit_file_touch_expectations": true, "verification_commands": true, "stop_conditions": true, "evidence_artifacts": true } }, "repo_source_of_truth_paths": { "agents_guide": "AGENTS.md", "planning_pack_primary": "packages/specs/docs/planning/2026-01-22-run/", "eval_registry": "packages/specs/docs/planning/2026-01-22-run/eval_registry.yaml", "evalsets_registry": "packages/specs/docs/planning/2026-01-22-run/evalsets_registry.yaml", "tier_a_report": "packages/specs/docs/planning/2026-01-22-run/tier_a_coverage_report.md", "codex_execution_pack": "packages/specs/docs/planning/2026-01-22-run/codex_execution_pack.md", "contracts_root": "packages/specs/docs/contracts/", "artifacts_root": "packages/specs/docs/artifacts/", "scenario_system_root": "packages/specs/scenarios/", "scenario_schemas_root": "packages/specs/scenarios/schemas/", "scenario_library_root": "packages/specs/scenarios/library/" }, "current_ci_pr_gate_definition": { "must_run_fast": true, "commands": [ "python3 tools/validate_planning_pack.py", "bash tools/run_pr_gate_validators.sh", "NX_DAEMON=false npx nx run evalsets:migration-smoke" ], "principle": "PR-gate remains fixtures-only; heavy checks move to nightly/release." }, "milestones": [ { "name": "Evidence IDs + PR-gate resolution enforcement", "status": "done", "notes": "Evidence IDs are canonical; PR-gate fails fast on missing/null evidence_ids and ensures IDs resolve via manifest." }, { "name": "Admissible evidence packs + evidence_pack_v0 emission", "status": "done", "notes": "Telemetry/evidence separation enforced; evidence_pack_v0 emitted alongside legacy/debug packs." }, { "name": "Scenario System v1", "status": "done", "notes": "Base scenario schema + seed library + validator; client overrides schema + generator + validator; deterministic compiler + bundle manifest + integrity/determinism/strictness validators." } ], "merged_prs_since_2026_01_24": [ { "pr": 58, "summary": "Evidence ID determinism validator uses eval registry argument (no hardcoded planning pack path)." }, { "pr": 64, "summary": "Evidence/telemetry separation for admissible packs (scrub transcript metadata / drop empty metadata)." }, { "pr": 65, "summary": "Intake validation enforces policy_profile minimum fields (+ tests)." }, { "pr": 66, "summary": "Emit evidence_pack_v0.json alongside legacy/debug evidence_pack.json (+ test)." }, { "pr": 67, "summary": "Scenario base schema + library skeleton + validator + GDPR seeds." }, { "pr": 68, "summary": "Client scenario override schema + deterministic intake->override generator + validator." }, { "pr": 69, "summary": "Deterministic scenario compiler + bundle manifest + integrity/determinism/strictness validators; fail-closed on missing overrides dir and stale overrides." }, { "pr": 70, "summary": "Override validator rejects empty supported_dsar_channels (+ expected-fail fixture)." }, { "pr": 71, "summary": "Base scenario validator enforces non-empty signal_ids (+ expected-fail fixture)." } ], "known_repo_realities": { "pytest_scope_note": "Repo-wide pytest may fail locally due to optional service deps (e.g., fastapi) and vendored library test suites; verification should target explicit test files only.", "nx_canonical_proof_target": "evalsets:migration-smoke" }, "next_major_modules_queue": [ { "module": "Scenario Library Expansion to 200+ GDPR scenarios", "goal": "Define the sourcing workflow and acceptance/validation gates for adding scenarios at scale, while keeping schema/validator alignment and determinism.", "effort": "xhigh" }, { "module": "Bespoke scenarios per client", "goal": "Use client intake -> override -> compile bundle flow to produce client-specific scenario bundles; ensure fail-closed when overrides missing/stale.", "effort": "high" }, { "module": "End-to-end execution path consumes bundles", "goal": "EP execution uses compiled bundle outputs as canonical input; loader validation aligned with compiler/schema validators; no silent defaults.", "effort": "high" }, { "module": "Reporting (L1/L2/L3) against scenario/bundle runs", "goal": "Fail-closed reporting with limitations_log; no compliance inference without evidence; crosswalk-driven aggregation.", "effort": "xhigh" } ], "project_tracking": { "github_project_url": "https://github.com/users/Standivarius/projects/3" } }
